!function(t){var e={};function i(s){if(e[s])return e[s].exports;var o=e[s]={i:s,l:!1,exports:{}};return t[s].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:s})},i.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){"use strict";i.r(e);let s=1;class o{constructor(t,e,i){this.id=s++,this.mass=t,this.x=e,this.y=i,this.velocity={x:0,y:0},this.acceleration={x:0,y:0},this.radius=10+3*Math.log(t)}}const n=1e4;let l=new class{constructor(t,e,i){this.ctx=t,this.width=e,this.height=i,this.ctx.canvas.width=e,this.ctx.canvas.height=i,this.balls=[],this.zoom=1,this.origin={x:0,y:0},this.setInput()}setInput(){this.down=!1,this.ctx.canvas.addEventListener("wheel",t=>{let e=t.wheelDelta/2e3;this.zoom+=e}),this.ctx.canvas.addEventListener("mousedown",t=>{this.down=!0}),this.ctx.canvas.addEventListener("mousemove",t=>{this.down&&(console.log("movementX"+t.movementX),console.log("movementY"+t.movementY),this.origin.x-=t.movementX/this.zoom,this.origin.y-=t.movementY/this.zoom,console.log("this.origin.x "+this.origin.x),console.log("this.origin.y "+this.origin.y))}),this.ctx.canvas.addEventListener("mouseup",t=>{this.down=!1})}init(){let t=new o(1e3,0,0);t.velocity={x:0,y:0},this.balls.push(t);let e=new o(1,-400,0);e.velocity={x:0,y:70},this.balls.push(e);let i=new o(1,700,0);i.velocity={x:0,y:-50},this.balls.push(i);let s=new o(1,0,400);s.velocity={x:150,y:0},this.balls.push(s)}update(t){let e=this.balls;e.forEach(i=>{let s={x:0,y:0};e.forEach(t=>{if(t.id!=i.id){let e=t.x-i.x,o=t.y-i.y,l=e*e+o*o,c=n*t.mass/l,h=Math.sqrt(l),a={x:e/h,y:o/h};s.x+=c*a.x,s.y+=c*a.y}}),i.acceleration.x+=s.x,i.acceleration.y+=s.y,i.velocity.x+=s.x*t.seconds,i.velocity.y+=s.y*t.seconds,i.x+=i.velocity.x*t.seconds,i.y+=i.velocity.y*t.seconds})}clear(){this.ctx.fillStyle="black",this.ctx.fillRect(0,0,this.width,this.height)}draw(t){let e=this.origin,i=this.ctx,s=this.zoom;this.balls.forEach(t=>{i.fillStyle="white",i.beginPath(),i.arc((t.x-e.x)*s+800,(t.y-e.y)*s+450,t.radius*s,0,2*Math.PI),i.fill()})}}(document.getElementById("canvas").getContext("2d"),1600,900);const c={seconds:1/60,ms:1e3/60};l.init(),setInterval(function(){l.update(c),l.clear(),l.draw(c)},1/60*1e3)}]);